{% extends "index.html" %}

{% block content %}
<!-- Content Header (Page header) -->
<div class="content-header">
  <div class="container-fluid">
    <div class="row mb-2">
      <div class="col-sm-6">
        <h1 class="m-0 text-dark">Perfil de usuario</h1>
      </div><!-- /.col -->
      <div class="col-sm-6">
        <ol class="breadcrumb float-sm-right">
          <li class="breadcrumb-item"><a href="{% url 'usuarios:index' %}">Home</a></li>
          <li class="breadcrumb-item active">Perfil de usuario</li>
        </ol>
      </div><!-- /.col -->
    </div><!-- /.row -->
  </div><!-- /.container-fluid -->
</div>
<!-- /.content-header -->
<!-- Main content -->
<section class="content">
  <div class="container-fluid">
    <div class="row">
      <!-- /.col -->
      <div class="col-md-12">
        <div class="card card-primary card-outline">
          <div class="card-header">
            <h3 class="card-title">Configuraciones</h3>
          </div><!-- /.card-header -->
          <div class="card-body">
            <div class="tab-content">

              <!-- /.tab-pane -->

              <!-- /.tab-pane -->

              <div id="settings">
                <form method="POST" class="form-horizontal" action="{% url 'usuarios:update_profile' %}" enctype="multipart/form-data">
                  {% csrf_token %}
                  <div class="form-group row">
                    <label for="inputAfiliado" class="col-sm-2 col-form-label">Número de afiliado</label>
                    <div class="col-sm-10">
                      <input type="text" 
                        class="form-control" 
                        placeholder="Número de afiliado" 
                        name="num_afiliado" 
                        value="{{ afiliado.num_afiliado }}" 
                        readonly="readonly">
                    </div>
                  </div>

                  <div class="form-group row">
                    <label for="inputApellido" class="col-sm-2 col-form-label">Apellido</label>
                    <div class="col-sm-10">               
                      <input type="text" 
                        class="form-control {% if afiliado_form.last_name.errors %} is-invalid {% endif %}" 
                        placeholder="Apellido" 
                        name="last_name" 
                        value="{% if afiliado_form.errors %}{{ afiliado_form.last_name.value }}{% else %}{{ user.last_name }}{% endif %}">
                    </div>
                  </div>
                  {% for error in afiliado_form.last_name.errors %}
                  <div class="form-group row">
                    <label class="col-sm-2 col-form-label"></label>
                    <div class="col-sm-10 alert alert-danger">
                      <b>Apellido: </b>{{ error }}
                    </div>
                  </div>
                  {% endfor %}

                  <div class="form-group row">
                    <label for="inputNombre" class="col-sm-2 col-form-label">Nombre</label>
                    <div class="col-sm-10">
                      <input type="text" 
                        class="form-control {% if afiliado_form.first_name.errors %} is-invalid {% endif %}" 
                        placeholder="Nombre" 
                        name="first_name" 
                        value="{% if afiliado_form.errors %}{{ afiliado_form.first_name.value }}{% else %}{{ user.first_name }}{% endif %}">
                    </div>
                  </div>
                  {% for error in afiliado_form.first_name.errors %}
                  <div class="form-group row">
                    <label class="col-sm-2 col-form-label"></label>
                    <div class="col-sm-10 alert alert-danger">
                      <b>Nombre: </b>{{ error }}
                    </div>
                  </div>
                  {% endfor %}

                  <div class="form-group row">
                    <label id="dni_label" for="inputDni" class="col-sm-2 col-form-label">DNI</label>
                    <div class="col-sm-10">
                      <input type="text" 
                        class="form-control {% if afiliado_form.dni.errors %} is-invalid {% endif %}" 
                        placeholder="DNI" 
                        name="dni" 
                        value="{% if afiliado_form.errors %}{{ afiliado_form.dni.value }}{% else %}{{ afiliado.dni }}{% endif %}">
                    </div>
                  </div>
                  {% for error in afiliado_form.dni.errors %}
                  <div class="form-group row">
                    <label class="col-sm-2 col-form-label"></label>
                    <div class="col-sm-10 alert alert-danger">
                      <b>DNI: </b>{{ error }}
                    </div>
                  </div>
                  {% endfor %}

                  <div class="form-group row">
                    <label for="inputEmail" class="col-sm-2 col-form-label">Email</label>
                    <div class="col-sm-10">
                      <input type="email" 
                        class="form-control {% if afiliado_form.email.errors %} is-invalid {% endif %}" 
                        placeholder="Email" 
                        name="email" 
                        value="{% if afiliado_form.errors %}{{ afiliado_form.email.value }} {% else %} {{ user.email }} {% endif %}">
                    </div>
                  </div>
                  {% for error in afiliado_form.email.errors %}
                  <div class="form-group row">
                    <label class="col-sm-2 col-form-label"></label>
                    <div class="col-sm-10 alert alert-danger">
                      <b>Email: </b>{{ error }}
                    </div>
                  </div>
                  {% endfor %}

                  <div class="form-group row">
                    <label for="inpuTel" class="col-sm-2 col-form-label">Número de tel.</label>
                    <div class="col-sm-10">
                      <input type="text" 
                        class="form-control {% if afiliado_form.num_tel.errors %} is-invalid {% endif %}" 
                        placeholder="Número de telefono" 
                        name="num_tel" 
                        value="{% if afiliado_form.errors %}{{ afiliado_form.num_tel.value }}{% else %}{{ afiliado.num_tel }}{% endif %}">
                    </div>
                  </div>
                  {% for error in afiliado_form.num_tel.errors %}
                  <div class="form-group row">
                    <label class="col-sm-2 col-form-label"></label>
                    <div class="col-sm-10 alert alert-danger">
                      <b>Número de telefono: </b>{{ error }}
                    </div>
                  </div>
                  {% endfor %}

                  <div class="form-group row">
                    <div class="offset-sm-2 col-sm-10">
                      <button id="updateButtonProfile" type="submit" class="btn btn-success">Guardar</button>
                    </div>
                  </div>
                </form>
              </div>
              <!-- /.tab-pane -->
            </div>
            <!-- /.tab-content -->
          </div><!-- /.card-body -->
        </div>
        <!-- /.nav-tabs-custom -->
      </div>
      <!-- /.col -->
    </div>
    <!-- /.row -->
  </div><!-- /.container-fluid -->
</section>

{% endblock %}